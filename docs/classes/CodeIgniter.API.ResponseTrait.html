<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>CodeIgniter v4.0 API » \CodeIgniter\API\ResponseTrait</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">CodeIgniter v4.0 API</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Namespaces</a></li>
<li><a href="../namespaces/CodeIgniter.html"><i class="icon-th"></i> CodeIgniter</a></li>
<li><a href="../namespaces/Psr.html"><i class="icon-th"></i> Psr</a></li>
<li><a href="../namespaces/Zend.html"><i class="icon-th"></i> Zend</a></li>
<li><a href="../namespaces/global.html"><i class="icon-th"></i> global</a></li>
<li><a>Packages</a></li>
<li><a href="../packages/CodeIgniter.html"><i class="icon-folder-open"></i> CodeIgniter</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">555</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul></ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">0</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<div xmlns:php="http://php.net/xsl" class="btn-toolbar">
<div class="btn-group visibility" data-toggle="buttons-checkbox">
<button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button>
</div>
<div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
</div>
<ul xmlns:php="http://php.net/xsl" class="side-nav nav nav-list">
<li class="nav-header">
<i title="Methods" class="icon-custom icon-method"></i> Methods
                    <ul>
<li class="method public "><a href="#method_fail" title="fail() :: Used for generic failures that no custom methods exist for."><span class="description">Used for generic failures that no custom methods exist for.</span><pre>fail()</pre></a></li>
<li class="method public "><a href="#method_failForbidden" title="failForbidden() :: Used when access is always denied to this resource and no amount
of trying again will help."><span class="description">Used when access is always denied to this resource and no amount
of trying again will help.</span><pre>failForbidden()</pre></a></li>
<li class="method public "><a href="#method_failNotFound" title="failNotFound() :: Used when a specified resource cannot be found."><span class="description">Used when a specified resource cannot be found.</span><pre>failNotFound()</pre></a></li>
<li class="method public "><a href="#method_failResourceExists" title="failResourceExists() :: Use when trying to create a new resource and it already exists."><span class="description">Use when trying to create a new resource and it already exists.</span><pre>failResourceExists()</pre></a></li>
<li class="method public "><a href="#method_failResourceGone" title="failResourceGone() :: Use when a resource was previously deleted. This is different than
Not Found, because here we know the data previously existed, but is now gone,
where Not Found means we simply cannot find any information about it."><span class="description">Use when a resource was previously deleted. This is different than
Not Found, because here we know the data previously existed, but is now gone,
where Not Found means we simply cannot find any information about it.</span><pre>failResourceGone()</pre></a></li>
<li class="method public "><a href="#method_failServerError" title="failServerError() :: Used when there is a server error."><span class="description">Used when there is a server error.</span><pre>failServerError()</pre></a></li>
<li class="method public "><a href="#method_failTooManyRequests" title="failTooManyRequests() :: Used when the user has made too many requests for the resource recently."><span class="description">Used when the user has made too many requests for the resource recently.</span><pre>failTooManyRequests()</pre></a></li>
<li class="method public "><a href="#method_failUnauthorized" title="failUnauthorized() :: Used when the client is either didn't send authorization information,
or had bad authorization credentials. User is encouraged to try again
with the proper information."><span class="description">Used when the client is either didn't send authorization information,
or had bad authorization credentials. User is encouraged to try again
with the proper information.</span><pre>failUnauthorized()</pre></a></li>
<li class="method public "><a href="#method_failValidationError" title="failValidationError() :: Used when the data provided by the client cannot be validated."><span class="description">Used when the data provided by the client cannot be validated.</span><pre>failValidationError()</pre></a></li>
<li class="method public "><a href="#method_respond" title="respond() :: Provides a single, simple method to return an API response, formatted
to match the requested format, with proper content-type and status code."><span class="description">Provides a single, simple method to return an API response, formatted
to match the requested format, with proper content-type and status code.</span><pre>respond()</pre></a></li>
<li class="method public "><a href="#method_respondCreated" title="respondCreated() :: Used after successfully creating a new resource."><span class="description">Used after successfully creating a new resource.</span><pre>respondCreated()</pre></a></li>
<li class="method public "><a href="#method_respondDeleted" title="respondDeleted() :: Used after a resource has been successfully deleted."><span class="description">Used after a resource has been successfully deleted.</span><pre>respondDeleted()</pre></a></li>
</ul>
</li>
<li class="nav-header protected">» Protected
                    <ul><li class="method protected "><a href="#method_format" title="format() :: Handles formatting a response. Currently makes some heavy assumptions
and needs updating! :)"><span class="description">Handles formatting a response. Currently makes some heavy assumptions
and needs updating! :)</span><pre>format()</pre></a></li></ul>
</li>
<li class="nav-header">
<i title="Properties" class="icon-custom icon-property"></i> Properties
                    <ul></ul>
</li>
<li class="nav-header protected">» Protected
                    <ul><li class="property protected "><a href="#property_codes" title="$codes() :: Allows child classes to override the
status code that is used in their API."><span class="description"></span><pre>$codes</pre></a></li></ul>
</li>
</ul>
</div>
<div class="span8">
<a xmlns:php="http://php.net/xsl" id="\CodeIgniter\API\ResponseTrait"></a><ul xmlns:php="http://php.net/xsl" class="breadcrumb">
<li>
<a href="../index.html"><i title="Classes" class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/CodeIgniter.html">CodeIgniter</a></li>
<li>
<span class="divider">\</span><a href="../namespaces/CodeIgniter.API.html">API</a>
</li>
<li class="active">
<span class="divider">\</span><a href="../classes/CodeIgniter.API.ResponseTrait.html">ResponseTrait</a>
</li>
</ul>
<div xmlns:php="http://php.net/xsl" class="element trait">
<p class="short_description">Response trait.</p>
<div class="details">
<div class="long_description"><p>Provides common, more readable, methods to provide
consistent HTTP responses under a variety of common
situations when working as an API.</p></div>
<table class="table table-bordered">
<tr>
<th>property</th>
<td></td>
</tr>
<tr>
<th>property</th>
<td></td>
</tr>
<tr>
<th>package</th>
<td><a href="../packages/CodeIgniter.API.html">CodeIgniter\API</a></td>
</tr>
</table>
<h3>
<i title="Methods" class="icon-custom icon-method"></i> Methods</h3>
<a id="method_fail"></a><div class="element clickable method public method_fail " data-toggle="collapse" data-target=".method_fail .collapse" title="public">
<h2>Used for generic failures that no custom methods exist for.</h2>
<pre>fail(string|array $messages, integer|null $status<code> = 400</code>, string|null $code<code> = null</code>, string $customMessage<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$messages</h4>
<code>string</code><code>array</code>
</div>
<div class="subelement argument">
<h4>$status</h4>
<code>integer</code><code>null</code><p>HTTP status code</p></div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code><code>null</code><p>Custom, API-specific, error code</p></div>
<div class="subelement argument">
<h4>$customMessage</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_failForbidden"></a><div class="element clickable method public method_failForbidden " data-toggle="collapse" data-target=".method_failForbidden .collapse" title="public">
<h2>Used when access is always denied to this resource and no amount
of trying again will help.</h2>
<pre>failForbidden(string $description<code> = 'Forbidden'</code>, string $code<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_failNotFound"></a><div class="element clickable method public method_failNotFound " data-toggle="collapse" data-target=".method_failNotFound .collapse" title="public">
<h2>Used when a specified resource cannot be found.</h2>
<pre>failNotFound(string $description<code> = 'Not Found'</code>, string $code<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_failResourceExists"></a><div class="element clickable method public method_failResourceExists " data-toggle="collapse" data-target=".method_failResourceExists .collapse" title="public">
<h2>Use when trying to create a new resource and it already exists.</h2>
<pre>failResourceExists(string $description<code> = 'Conflict'</code>, string $code<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_failResourceGone"></a><div class="element clickable method public method_failResourceGone " data-toggle="collapse" data-target=".method_failResourceGone .collapse" title="public">
<h2>Use when a resource was previously deleted. This is different than
Not Found, because here we know the data previously existed, but is now gone,
where Not Found means we simply cannot find any information about it.</h2>
<pre>failResourceGone(string $description<code> = 'Gone'</code>, string $code<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_failServerError"></a><div class="element clickable method public method_failServerError " data-toggle="collapse" data-target=".method_failServerError .collapse" title="public">
<h2>Used when there is a server error.</h2>
<pre>failServerError(string $description<code> = 'Internal Server Error'</code>, string|null $code<code> = null</code>, string $message<code> = ''</code>) : \CodeIgniter\HTTP\Response</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code><p>The error message to show the user.</p></div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code><code>null</code><p>A custom, API-specific, error code.</p></div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>A custom "reason" message to return.</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\CodeIgniter\HTTP\Response</code>The value of the Response's send() method.</div>
</div></div>
</div>
<a id="method_failTooManyRequests"></a><div class="element clickable method public method_failTooManyRequests " data-toggle="collapse" data-target=".method_failTooManyRequests .collapse" title="public">
<h2>Used when the user has made too many requests for the resource recently.</h2>
<pre>failTooManyRequests(string $description<code> = 'Too Many Requests'</code>, string $code<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_failUnauthorized"></a><div class="element clickable method public method_failUnauthorized " data-toggle="collapse" data-target=".method_failUnauthorized .collapse" title="public">
<h2>Used when the client is either didn't send authorization information,
or had bad authorization credentials. User is encouraged to try again
with the proper information.</h2>
<pre>failUnauthorized(string $description<code> = 'Unauthorized'</code>, string $code<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_failValidationError"></a><div class="element clickable method public method_failValidationError " data-toggle="collapse" data-target=".method_failValidationError .collapse" title="public">
<h2>Used when the data provided by the client cannot be validated.</h2>
<pre>failValidationError(string $description<code> = 'Bad Request'</code>, string $code<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$description</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$code</h4>
<code>string</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_respond"></a><div class="element clickable method public method_respond " data-toggle="collapse" data-target=".method_respond .collapse" title="public">
<h2>Provides a single, simple method to return an API response, formatted
to match the requested format, with proper content-type and status code.</h2>
<pre>respond(null $data<code> = null</code>, integer $status<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>null</code>
</div>
<div class="subelement argument">
<h4>$status</h4>
<code>integer</code>
</div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code>
</div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_respondCreated"></a><div class="element clickable method public method_respondCreated " data-toggle="collapse" data-target=".method_respondCreated .collapse" title="public">
<h2>Used after successfully creating a new resource.</h2>
<pre>respondCreated(mixed $data<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>mixed</code><p>Data.</p></div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>Message.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_respondDeleted"></a><div class="element clickable method public method_respondDeleted " data-toggle="collapse" data-target=".method_respondDeleted .collapse" title="public">
<h2>Used after a resource has been successfully deleted.</h2>
<pre>respondDeleted(mixed $data<code> = null</code>, string $message<code> = ''</code>) : mixed</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>mixed</code><p>Data.</p></div>
<div class="subelement argument">
<h4>$message</h4>
<code>string</code><p>Message.</p></div>
<h3>Returns</h3>
<div class="subelement response"><code>mixed</code></div>
</div></div>
</div>
<a id="method_format"></a><div class="element clickable method protected method_format " data-toggle="collapse" data-target=".method_format .collapse" title="protected">
<h2>Handles formatting a response. Currently makes some heavy assumptions
and needs updating! :)</h2>
<pre>format(string|array|null $data<code> = null</code>) : string | null</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<div class="long_description"></div>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$data</h4>
<code>string</code><code>array</code><code>null</code>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code><code>null</code>
</div>
</div></div>
</div>
<h3>
<i title="Properties" class="icon-custom icon-property"></i> Properties</h3>
<a id="property_codes"> </a><div class="element clickable property protected property_codes" data-toggle="collapse" data-target=".property_codes .collapse" title="protected">
<h2>Allows child classes to override the
status code that is used in their API.</h2>
<pre>$codes : array</pre>
<div class="row collapse"><div class="detail-description">
<h3>Default</h3>
<div class="subelement argument"><code>array('created' => 201, 'deleted' => 200, 'invalid_request' => 400, 'unsupported_response_type' => 400, 'invalid_scope' => 400, 'temporarily_unavailable' => 400, 'invalid_grant' => 400, 'invalid_credentials' => 400, 'invalid_refresh' => 400, 'no_data' => 400, 'invalid_data' => 400, 'access_denied' => 401, 'unauthorized' => 401, 'invalid_client' => 401, 'forbidden' => 403, 'resource_not_found' => 404, 'not_acceptable' => 406, 'resource_exists' => 409, 'conflict' => 409, 'resource_gone' => 410, 'payload_too_large' => 413, 'unsupported_media_type' => 415, 'too_many_requests' => 429, 'server_error' => 500, 'unsupported_grant_type' => 501, 'not_implemented' => 501)</code></div>
</div></div>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><div class="long_description"></div></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.9.0</a> and<br>
            generated on 2019-03-24T20:48:19-07:00.<br></footer></div>
</div>
</body>
</html>
